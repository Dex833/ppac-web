@tailwind base;
@tailwind components;
@tailwind utilities;

/* Quick modal animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* Subtle fade at the left/right edges while horizontally scrolling tables */
.table-scroll {
  position: relative;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  background: linear-gradient(to right, rgba(0,0,0,0.06), rgba(0,0,0,0) 20%) left,
              linear-gradient(to left,  rgba(0,0,0,0.06), rgba(0,0,0,0) 20%) right;
  background-size: 20px 100%, 20px 100%;
  background-repeat: no-repeat;
  background-attachment: local, local;
}

/* Optional: thinner mobile scrollbar (WebKit) */
.table-scroll::-webkit-scrollbar { height: 10px; }
.table-scroll::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,.15);
  border-radius: 999px;
}
/* Better spacing for tap targets on small screens */
.touch-gap > * { margin-bottom: .5rem; }

/* Base (global) */
@layer base {
  :root { color-scheme: light; }
  html, body { @apply min-h-screen bg-surface text-ink antialiased; }
  a { @apply text-brand-700 hover:text-brand-800; }
}

/* Reusable components */
@layer components {
  /* Page container helper (optional) */
  .container-page { @apply max-w-5xl mx-auto px-4 sm:px-6; }

  /* Card */
  .card { @apply rounded-2xl bg-white/80 backdrop-blur border border-border shadow-sm; }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center
           rounded-xl px-4 py-2 font-medium transition-colors
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary { @apply bg-brand-600 text-white hover:bg-brand-700 focus-visible:ring-brand-400; }
  .btn-outline { @apply bg-white text-ink ring-1 ring-border hover:bg-moss-50; }
  .btn-accent  { @apply bg-fern text-ink hover:bg-fern-dark focus-visible:ring-fern; }
  .btn-ghost   { @apply text-brand-700 hover:bg-brand-50; }

  /* Forms */
  .label { @apply block text-sm font-medium text-ink/80; }
  .input {
    @apply mt-1 block w-full rounded-lg border border-border bg-white/90
           px-3 py-2 text-ink placeholder:text-ink/40
           focus:border-brand-400 focus:ring-2 focus:ring-brand-300/60 outline-none;
  }
  .field { @apply grid gap-1; }

  /* Badges */
  .badge { @apply inline-flex items-center rounded-full bg-brand-50 text-brand-700 px-2 py-0.5 text-xs; }
}

/* ---- Inlined responsive tweaks (previously src/styles/responsive.css) ---- */
@layer utilities {
  /* Helpers */
  .hide-on-mobile { display: block; }
  .show-on-mobile { display: none; }

  @media (max-width: 768px) {
    .hide-on-mobile { display: none !important; }
    .show-on-mobile { display: block !important; }
  }

  /* Desktop/boxed page gutters â€“ ensure background peeks on the sides */
  .page-boxed { max-width: 72rem; margin-left: auto; margin-right: auto; }
  .page-gutter { padding-left: 1rem; padding-right: 1rem; }
  @media (min-width: 768px) {
    .page-gutter { padding-left: 1.25rem; padding-right: 1.25rem; }
  }

  /* Tables: compact by default on phones */
  .table-compact th,
  .table-compact td {
    padding: 0.5rem 0.625rem;
  }

  /* Optional: stack tables into cards on phones */
  @media (max-width: 768px) {
    table.stack-on-mobile { border: 0; width: 100%; }
    table.stack-on-mobile thead { display: none; }
    table.stack-on-mobile tr {
      display: block;
      background: #fff;
      border: 1px solid rgb(229 231 235);
      border-radius: 12px;
      margin-bottom: 0.75rem;
      padding: 0.5rem 0.75rem;
    }
    table.stack-on-mobile td {
      display: grid;
      grid-template-columns: 9.5rem 1fr;
      gap: 0.5rem;
      border: 0 !important;
      padding: 0.375rem 0 !important;
    }
    table.stack-on-mobile td::before {
      content: attr(data-label);
      font-weight: 600;
      color: rgb(55 65 81);
    }
  }
}

@layer components {
  /* Tighter UI on small screens */
  @media (max-width: 768px) {
    :root { --ui-radius: 12px; }

    .card {
      border-radius: var(--ui-radius);
      padding: 0.875rem !important;
    }

    .btn {
      padding: 0.5rem 0.75rem !important;
      border-radius: 9999px !important;
      font-size: 0.9375rem !important;
    }

    .input, input[type="date"], select, textarea {
      padding: 0.5rem 0.625rem !important;
      border-radius: 10px !important;
      font-size: 0.9375rem !important;
    }

    /* Header height a bit smaller */
    header .h-16 { height: 3.25rem !important; }
  }
}
